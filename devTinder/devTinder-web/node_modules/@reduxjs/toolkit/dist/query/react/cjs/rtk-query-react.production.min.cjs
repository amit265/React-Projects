"use strict";var De=Object.create;var j=Object.defineProperty;var xe=Object.getOwnPropertyDescriptor;var me=Object.getOwnPropertyNames;var Se=Object.getPrototypeOf,Ae=Object.prototype.hasOwnProperty;var Be=(e,r)=>{for(var s in r)j(e,s,{get:r[s],enumerable:!0})},_=(e,r,s,g)=>{if(r&&typeof r=="object"||typeof r=="function")for(let f of me(r))!Ae.call(e,f)&&f!==s&&j(e,f,{get:()=>r[f],enumerable:!(g=xe(r,f))||g.enumerable});return e},O=(e,r,s)=>(_(e,r,"default"),s&&_(s,r,"default")),he=(e,r,s)=>(s=e!=null?De(Se(e)):{},_(r||!e||!e.__esModule?j(s,"default",{value:e,enumerable:!0}):s,e)),Ue=e=>_(j({},"__esModule",{value:!0}),e);var P={};Be(P,{ApiProvider:()=>Re,UNINITIALIZED_VALUE:()=>w,createApi:()=>Ne,reactHooksModule:()=>ue,reactHooksModuleName:()=>oe});module.exports=Ue(P);var ee=require("@reduxjs/toolkit/query");var Je=require("@reduxjs/toolkit"),N=require("react-redux"),le=require("reselect");function W(e){return e.replace(e[0],e[0].toUpperCase())}var p=require("@reduxjs/toolkit");function ae(e){return e.type==="query"}function ye(e){return e.type==="mutation"}function q(e,...r){return Object.assign(e,...r)}var ce=require("@reduxjs/toolkit"),F=require("@reduxjs/toolkit/query"),t=require("react"),Z=require("react-redux");var pe=WeakMap?new WeakMap:void 0,de=({endpointName:e,queryArgs:r})=>{let s="",g=pe?.get(r);if(typeof g=="string")s=g;else{let f=JSON.stringify(r,(A,R)=>(R=typeof R=="bigint"?{$bigint:R.toString()}:R,R=(0,p.isPlainObject)(R)?Object.keys(R).sort().reduce((h,U)=>(h[U]=R[U],h),{}):R,R));(0,p.isPlainObject)(r)&&pe?.set(r,f),s=f}return`${e}(${s})`};var w=Symbol();var H=require("react");function ie(e,r,s,g){let f=(0,H.useMemo)(()=>({queryArgs:e,serialized:typeof e=="object"?r({queryArgs:e,endpointDefinition:s,endpointName:g}):e}),[e,r,s,g]),A=(0,H.useRef)(f);return(0,H.useEffect)(()=>{A.current.serialized!==f.serialized&&(A.current=f)},[f]),A.current.serialized===f.serialized?A.current.queryArgs:e}var $=require("react"),se=require("react-redux");function G(e){let r=(0,$.useRef)(e);return(0,$.useEffect)(()=>{(0,se.shallowEqual)(r.current,e)||(r.current=e)},[e]),(0,se.shallowEqual)(r.current,e)?r.current:e}var Ee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",be=Ee(),Me=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ke=Me(),Pe=()=>be||ke?t.useLayoutEffect:t.useEffect,Oe=Pe(),Fe=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:F.QueryStatus.pending}:e;function fe({api:e,moduleOptions:{batch:r,hooks:{useDispatch:s,useSelector:g,useStore:f},unstable__sideEffectsInRender:A,createSelector:R},serializeQueryArgs:h,context:U}){let L=A?n=>n():t.useEffect;return{buildQueryHooks:M,buildMutationHook:K,usePrefetch:re};function te(n,a,l){if(a?.endpointName&&n.isUninitialized){let{endpointName:d}=a,y=U.endpointDefinitions[d];l!==F.skipToken&&h({queryArgs:a.originalArgs,endpointDefinition:y,endpointName:d})===h({queryArgs:l,endpointDefinition:y,endpointName:d})&&(a=void 0)}let m=n.isSuccess?n.data:a?.data;m===void 0&&(m=n.data);let u=m!==void 0,o=n.isLoading,i=(!a||a.isLoading||a.isUninitialized)&&!u&&o,Q=n.isSuccess||u&&(o&&!a?.isError||n.isUninitialized);return{...n,data:m,currentData:n.data,isFetching:o,isLoading:i,isSuccess:Q}}function re(n,a){let l=s(),m=G(a);return(0,t.useCallback)((u,o)=>l(e.util.prefetch(n,u,{...m,...o})),[n,l,m])}function M(n){let a=(u,{refetchOnReconnect:o,refetchOnFocus:i,refetchOnMountOrArgChange:Q,skip:d=!1,pollingInterval:y=0,skipPollingIfUnfocused:T=!1}={})=>{let{initiate:E}=e.endpoints[n],c=s(),D=(0,t.useRef)(void 0);if(!D.current){let b=c(e.internalActions.internal_getRTKQSubscriptions());D.current=b}let B=ie(d?F.skipToken:u,de,U.endpointDefinitions[n],n),S=G({refetchOnReconnect:o,refetchOnFocus:i,pollingInterval:y,skipPollingIfUnfocused:T}),k=(0,t.useRef)(!1),x=(0,t.useRef)(void 0),{queryCacheKey:z,requestId:v}=x.current||{},C=!1;z&&v&&(C=D.current.isRequestSubscribed(z,v));let I=!C&&k.current;return L(()=>{k.current=C}),L(()=>{I&&(x.current=void 0)},[I]),L(()=>{let b=x.current;if(typeof process<"u",B===F.skipToken){b?.unsubscribe(),x.current=void 0;return}let ne=x.current?.subscriptionOptions;if(!b||b.arg!==B){b?.unsubscribe();let V=c(E(B,{subscriptionOptions:S,forceRefetch:Q}));x.current=V}else S!==ne&&b.updateSubscriptionOptions(S)},[c,E,Q,B,S,I]),(0,t.useEffect)(()=>()=>{x.current?.unsubscribe(),x.current=void 0},[]),(0,t.useMemo)(()=>({refetch:()=>{if(!x.current)throw new Error((0,ce.formatProdErrorMessage)(38));return x.current?.refetch()}}),[])},l=({refetchOnReconnect:u,refetchOnFocus:o,pollingInterval:i=0,skipPollingIfUnfocused:Q=!1}={})=>{let{initiate:d}=e.endpoints[n],y=s(),[T,E]=(0,t.useState)(w),c=(0,t.useRef)(void 0),D=G({refetchOnReconnect:u,refetchOnFocus:o,pollingInterval:i,skipPollingIfUnfocused:Q});L(()=>{let x=c.current?.subscriptionOptions;D!==x&&c.current?.updateSubscriptionOptions(D)},[D]);let B=(0,t.useRef)(D);L(()=>{B.current=D},[D]);let S=(0,t.useCallback)(function(x,z=!1){let v;return r(()=>{c.current?.unsubscribe(),c.current=v=y(d(x,{subscriptionOptions:B.current,forceRefetch:!z})),E(x)}),v},[y,d]),k=(0,t.useCallback)(()=>{c.current?.queryCacheKey&&y(e.internalActions.removeQueryResult({queryCacheKey:c.current?.queryCacheKey}))},[y]);return(0,t.useEffect)(()=>()=>{c?.current?.unsubscribe()},[]),(0,t.useEffect)(()=>{T!==w&&!c.current&&S(T,!0)},[T,S]),(0,t.useMemo)(()=>[S,T,{reset:k}],[S,T,k])},m=(u,{skip:o=!1,selectFromResult:i}={})=>{let{select:Q}=e.endpoints[n],d=ie(o?F.skipToken:u,h,U.endpointDefinitions[n],n),y=(0,t.useRef)(void 0),T=(0,t.useMemo)(()=>R([Q(d),(S,k)=>k,S=>d],te,{memoizeOptions:{resultEqualityCheck:Z.shallowEqual}}),[Q,d]),E=(0,t.useMemo)(()=>i?R([T],i,{devModeChecks:{identityFunctionCheck:"never"}}):T,[T,i]),c=g(S=>E(S,y.current),Z.shallowEqual),D=f(),B=T(D.getState(),y.current);return Oe(()=>{y.current=B},[B]),c};return{useQueryState:m,useQuerySubscription:a,useLazyQuerySubscription:l,useLazyQuery(u){let[o,i,{reset:Q}]=l(u),d=m(i,{...u,skip:i===w}),y=(0,t.useMemo)(()=>({lastArg:i}),[i]);return(0,t.useMemo)(()=>[o,{...d,reset:Q},y],[o,d,Q,y])},useQuery(u,o){let i=a(u,o),Q=m(u,{selectFromResult:u===F.skipToken||o?.skip?void 0:Fe,...o}),{data:d,status:y,isLoading:T,isSuccess:E,isError:c,error:D}=Q;return(0,t.useDebugValue)({data:d,status:y,isLoading:T,isSuccess:E,isError:c,error:D}),(0,t.useMemo)(()=>({...Q,...i}),[Q,i])}}}function K(n){return({selectFromResult:a,fixedCacheKey:l}={})=>{let{select:m,initiate:u}=e.endpoints[n],o=s(),[i,Q]=(0,t.useState)();(0,t.useEffect)(()=>()=>{i?.arg.fixedCacheKey||i?.reset()},[i]);let d=(0,t.useCallback)(function(ne){let V=o(u(ne,{fixedCacheKey:l}));return Q(V),V},[o,u,l]),{requestId:y}=i||{},T=(0,t.useMemo)(()=>m({fixedCacheKey:l,requestId:i?.requestId}),[l,i,m]),E=(0,t.useMemo)(()=>a?R([T],a):T,[a,T]),c=g(E,Z.shallowEqual),D=l==null?i?.arg.originalArgs:void 0,B=(0,t.useCallback)(()=>{r(()=>{i&&Q(void 0),l&&o(e.internalActions.removeMutationResult({requestId:y,fixedCacheKey:l}))})},[o,l,i,y]),{endpointName:S,data:k,status:x,isLoading:z,isSuccess:v,isError:C,error:I}=c;(0,t.useDebugValue)({endpointName:S,data:k,status:x,isLoading:z,isSuccess:v,isError:C,error:I});let b=(0,t.useMemo)(()=>({...c,originalArgs:D,reset:B}),[c,D,B]);return(0,t.useMemo)(()=>[d,b],[d,b])}}}var oe=Symbol(),ue=({batch:e=N.batch,hooks:r={useDispatch:N.useDispatch,useSelector:N.useSelector,useStore:N.useStore},createSelector:s=le.createSelector,unstable__sideEffectsInRender:g=!1,...f}={})=>({name:oe,init(A,{serializeQueryArgs:R},h){let U=A,{buildQueryHooks:L,buildMutationHook:te,usePrefetch:re}=fe({api:A,moduleOptions:{batch:e,hooks:r,unstable__sideEffectsInRender:g,createSelector:s},serializeQueryArgs:R,context:h});return q(U,{usePrefetch:re}),q(h,{batch:e}),{injectEndpoint(M,K){if(ae(K)){let{useQuery:n,useLazyQuery:a,useLazyQuerySubscription:l,useQueryState:m,useQuerySubscription:u}=L(M);q(U.endpoints[M],{useQuery:n,useLazyQuery:a,useLazyQuerySubscription:l,useQueryState:m,useQuerySubscription:u}),A[`use${W(M)}Query`]=n,A[`useLazy${W(M)}Query`]=a}else if(ye(K)){let n=te(M);q(U.endpoints[M],{useMutation:n}),A[`use${W(M)}Mutation`]=n}}}}});O(P,require("@reduxjs/toolkit/query"),module.exports);var J=require("@reduxjs/toolkit"),Qe=require("react"),Te=require("react"),Y=he(require("react")),X=require("react-redux"),ge=require("@reduxjs/toolkit/query");function Re(e){let r=e.context||X.ReactReduxContext;if((0,Qe.useContext)(r))throw new Error((0,J.formatProdErrorMessage)(35));let[g]=Y.useState(()=>(0,J.configureStore)({reducer:{[e.api.reducerPath]:e.api.reducer},middleware:f=>f().concat(e.api.middleware)}));return(0,Te.useEffect)(()=>e.setupListeners===!1?void 0:(0,ge.setupListeners)(g.dispatch,e.setupListeners),[e.setupListeners,g.dispatch]),Y.createElement(X.Provider,{store:g,context:r},e.children)}var Ne=(0,ee.buildCreateApi)((0,ee.coreModule)(),ue());0&&(module.exports={ApiProvider,UNINITIALIZED_VALUE,createApi,reactHooksModule,reactHooksModuleName,...require("@reduxjs/toolkit/query")});
//# sourceMappingURL=rtk-query-react.production.min.cjs.map